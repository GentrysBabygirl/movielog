!!!
%html{ xmlns: 'http://www.w3.org/1999/xhtml', 'xml:lang' => 'en-us', lang: 'en-us' }
  %head
    %meta{ 'http-equiv' => 'content-type', content: 'text/html; charset=utf-8' }
    %meta{ name: 'viewport', content: 'width=device-width, initial-scale=1.0, maximum-scale=1' }
    - if content_for?(:description)
      %meta{ name: 'description', content: yield_content(:description) }
    %title
      - if current_page.data.title
        #{current_page.data.title} |
        #{Movielog.site_title}
      - elsif content_for?(:title)
        #{yield_content(:title)} | #{Movielog.site_title}
      - else
        #{Movielog.site_title}
    = stylesheet_link_tag 'application'
    %link{ rel: 'apple-touch-icon', sizes: '57x57', href: '/apple-touch-icon-57x57.png' }
    %link{ rel: 'apple-touch-icon', sizes: '114x114', href: '/apple-touch-icon-114x114.png' }
    %link{ rel: 'apple-touch-icon', sizes: '72x72', href: '/apple-touch-icon-72x72.png' }
    %link{ rel: 'apple-touch-icon', sizes: '144x144', href: '/apple-touch-icon-144x144.png' }
    %link{ rel: 'apple-touch-icon', sizes: '60x60', href: '/apple-touch-icon-60x60.png' }
    %link{ rel: 'apple-touch-icon', sizes: '120x120', href: '/apple-touch-icon-120x120.png' }
    %link{ rel: 'apple-touch-icon', sizes: '76x76', href: '/apple-touch-icon-76x76.png' }
    %link{ rel: 'apple-touch-icon', sizes: '152x152', href: '/apple-touch-icon-152x152.png' }
    %link{ rel: 'icon', type: 'image/png', href: '/favicon-196x196.png', sizes: '196x196' }
    %link{ rel: 'icon', type: 'image/png', href: '/favicon-160x160.png', sizes: '160x160' }
    %link{ rel: 'icon', type: 'image/png', href: '/favicon-96x96.png', sizes: '96x96' }
    %link{ rel: 'icon', type: 'image/png', href: '/favicon-16x16.png', sizes: '16x16' }
    %link{ rel: 'icon', type: 'image/png', href: '/favicon-32x32.png?v=2', sizes: '32x32' }
    %meta{ name: 'msapplication-TileColor', content: '#2b5797' }
    %meta{ name: 'msapplication-TileImage', content: '/mstile-144x144.png' }
    %link{ rel: 'alternate', type: 'application/rss+xml', title: 'RSS', href: '/feed.xml' }
    %script{ type: 'text/javascript', src: '//use.typekit.net/obz2qjv.js' }
    :javascript
      try{Typekit.load();}catch(e){}

  %body
    %header.masthead
      %h1.masthead-title
        %a.masthead-title-link{ href: '/' } Frank's Movie Log
      %nav
        %button.nav-menu-toggle{ data: { toggle: true }}
          Menu
        %ul.nav-menu.js-collapse.js-collapsed
          %li.nav-menu-item.nav-menu-item-search
            = form_tag 'https://www.google.com/search', method: :get, class: 'search-form' do
              = hidden_field_tag 'q', value: 'site:www.franksmovielog.com'
              .site-search-wrap
                = text_field_tag('q', placeholder: 'Search the Movie Log',
                                      id: 'searchInput',
                                      class: 'site-search-input')
                = inline_svg('search.svg', class: 'site-search-icon')
          %li.nav-menu-item
            %a{ href: '/',
              class: "nav-menu-link#{' active' if current_page.url == '/' }"}
              Latest Updates
          %li.nav-menu-item
            %a{ href: '/viewings/',
                class: "nav-menu-link#{' active' if current_page.url == '/viewings/' }"}
              Viewing Log
    .container.content{ class: yield_content(:content_class) }
      - if content_for?(:header)
        %h2.page-title
          = yield_content(:header)
      = yield
    %footer.site-footer
      .site-footer-content
        = "This has been #{link_to("Frank's Movie Log", '/')}, loving movies since 2012."
      %a.site-footer-twitter{ href: 'http://twitter.com/FranksMovieLog',
                              data: { no_instant: true }}
        = inline_svg('twitter.svg', class: 'twitter-icon')
        follow
      %a.site-footer-feed{ href: '/feed.xml', data: { no_instant: true }}
        = inline_svg('feed.svg', class: 'feed-icon')
        subscribe
  = javascript_include_tag('remove_touch_delay.js', async: :async)
  = javascript_include_tag('navigation.js', async: :async)
  = javascript_include_tag('instantclick.js', data: { no_instant: true })
  :javascript
    InstantClick.init();
  = yield_content(:js)
  - unless development?
    :javascript
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-55282521-1', 'auto');
      ga('send', 'pageview');
